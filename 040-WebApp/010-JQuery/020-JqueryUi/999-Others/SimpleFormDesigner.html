<html lang="en">
	<head>
		<title>IT Tech Office- Simple Form Designer</title>
		<style>
			.noselect {
				-webkit-touch-callout: none; /* iOS Safari */
				-webkit-user-select: none;   /* Chrome/Safari/Opera */
				-khtml-user-select: none;    /* Konqueror */
				-moz-user-select: none;      /* Firefox */
				-ms-user-select: none;       /* Internet Explorer/Edge */
				user-select: none;           /* Non-prefixed version, currently not supported by any browser */
				cursor:default;
			}
			
			#drawingPanel div {
				-webkit-touch-callout: none; /* iOS Safari */
				-webkit-user-select: none;   /* Chrome/Safari/Opera */
				-khtml-user-select: none;    /* Konqueror */
				-moz-user-select: none;      /* Firefox */
				-ms-user-select: none;       /* Internet Explorer/Edge */
				user-select: none;           /* Non-prefixed version, currently not supported by any browser */
				cursor:default;
			}
			
			.hbox div {
				float:left 
			}
		</style>
		<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
		<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
		<script>
			$( function() {
				drawingPanel = $("#drawingPanel");
				// define id sequence for drawPanel
				drawingPanel.idCount = 0;
				drawingPanel.getNextId = function(){
					this.idCount = this.idCount + 1;
					return "drawingPanelItem" + this.idCount;
				};
				
				$("#generateBtn").click(function(){
					$("#drawingPanelMeta").val("ID Count: " + drawingPanel.idCount);
					$("#generatedCodeTextArea").val(drawingPanel[0].innerHTML);
				});
				
				// define vbox is draggable
				$("#vbox").draggable({revert: true});
				
				// define hbox is draggable
				$("#hbox").draggable({revert: true});
				
				// define label is draggable
				$("#label").draggable({revert: true});
				
				// define drawingPanel is sortable
				drawingPanel.sortable();
				
				// define drawingPanel is droppable
				drawingPanel.droppable({
					accept: "#label, #vbox, #hbox",
					drop: function(event, ui){
						var appendStr;
						if (ui.draggable[0].id == 'label'){
							appendStr = "<div id='" + drawingPanel.getNextId() + "'>Label<div>";
						}
						if (ui.draggable[0].id == 'vbox'){
							appendStr = "<div id='" + drawingPanel.getNextId() + "'>vbox<div>";
						}
						if (ui.draggable[0].id == 'hbox'){
							appendStr = "<div id='" + drawingPanel.getNextId() + "' class='hbox'><div>div1</div><div>div2</div><div>";
						}
						$(appendStr).appendTo(drawingPanel);
					}
				});
			});
		</script>
	</head>
	<body>
		<h1>jQuery UI - Simple Form Designer</h1>
		<table border="1">
			<tr>
				<td style="vertical-align:top">
					<div id="elementList">
						<div id="vbox"  class="noselect">vbox</div>
						<div id="hbox"  class="noselect">hbox</div>
						<div id="label" class="noselect">Label</div>
					</div>
				</td>
				<td>
					<div id="drawingPanel" style="width:700px;height:500px;background-color:snow"></div>
				</td>
				<td style="vertical-align:top">
					<p>Attribute</p>
				</td>
			</tr>
		</table>
		<div>
			<div>
				<button id="generateBtn" type="button">Generate</button>
			</div>
			<div>
				<textarea id="drawingPanelMeta" rows="3" cols="100"></textarea>
			</div>
			<div>
				<textarea id="generatedCodeTextArea" rows="30" cols="100"></textarea>
			</div>
		</div>
	</body>
</html>
