<html>
	<head>
		<title>Reflux Hello World Example</title>
		<script src="bower_components/babel/browser.min.js"></script>
		<script src="bower_components/react/react.production.min.js"></script>
		<script src="bower_components/react/react-dom.production.min.js"></script>
		<script src="bower_components/reflux/dist/reflux.min.js"></script>
		<script type="text/babel">
			
			// Action
			var Actions = Reflux.createActions(['getStatus', 'statusUpdate']);
			
			// Store
			class StatusStore extends Reflux.Store{
				constructor(){
					super();
					this.state = {flag:'OFFLINE'}; 
					this.listenTo(Actions.statusUpdate, this.onStatusUpdate); 
					this.listenTo(Actions.getStatus, this.onGetStatus);
				}

				onStatusUpdate(status){
					var newFlag = status ? 'ONLINE' : 'OFFLINE';
					this.setState({flag:newFlag});
				}
				
				onGetStatus(){
				
				}
			}
			
			// Component
			class MyComponent extends Reflux.Component{
				constructor(props){
					super(props);
					this.state = {};
					this.store = StatusStore;
				}
				
				setOnline(){
					Actions.statusUpdate(true);
				}
				
				render(){
					var flag = this.state.flag; 
					return <div>User is {flag}<button onClick={this.setOnline}>Online</button></div>
				}
			}

			
			ReactDOM.render(
                <MyComponent/>,
                document.getElementById('container')
            );
		</script>
	</head>
	
	<body>
		<div id="container"></div>

	</body>
	

</html>